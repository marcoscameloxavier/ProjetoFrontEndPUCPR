<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/util.css" />
    <link rel="stylesheet" href="../css/fontawesome-free-web/css/all.css" />
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/compra.css" />
    <link rel="shortcut icon" type="image/png" href="../img/Logo3.png"/>
    <script defer src="../js/index.js"></script>
    <script defer src="../js/compra.js"></script>
    <script defer src="../js/util.js"></script>
    <title>Páginas Infinitas</title>
</head>
<body>
    <div class="barra-principal">
        <a href="index.html">
            <img class="logo" src="../img/Logo3.png"/>
        </a>
        <span class="titulo">Páginas Infinitas</span>
        <div class="pesquisar-livros">
            <input type="text" placeholder="Buscar livro" id="termo-pesquisa"/>
            <i class="fa-solid fa-magnifying-glass" onclick="pesquisarLivros()"></i>
        </div>
        <!-- Menu padrão para desktop -->
        <nav id="menu-principal">
            <a href="cadastro.html" onclick="">Cadastro</a>
            <a href="#carrinho" onclick="mostrarCarrinhoPaginaIncial()">Carrinho</a>
        </nav>
        <!-- Ícone de menu hamburger para dispositivos móveis -->
        <div class="menu-toggle" onclick="toogleMenu()"><i class="fa-solid fa-bars"></i></div>
    </div>
    <div class="container-pagamento">
        <h1>Pagamento</h1>
        <div>
            <div class="opcoes-pagamento">
                <label class="opcao-pagamento">
                    <input type="radio" name="pagamento" value="cartao" onclick="mostrarPagamentoCartao()">
                    <span class="radio-container">
                        <div class="pagamento-icons">
                            <img src="../img/visa.png" alt="Visa">
                            <img src="../img/master.png" alt="MasterCard">
                            <img src="../img/elo.png" alt="Elo">
                            <img src="../img/hipercard.png" alt="Hipercard">
                            <span>...</span>
                        </div>
                    </span>
                </label>
                <div class="pagamento-cartao" id="div-pagamento-cartao">
                    <div class="erro_campo-pagamento" id="erro_num-cartao">Número do cartão inválido</div>
                    <div class="form-floating-label">
                        <input type="text" id="numero-cartao" name="numero-cartao" maxlength="19"  required placeholder=" " onblur="validarNumeroCartao()">
                        <label for="numero-cartao">Número do cartão</label>
                    </div>
                    <div class="erro_campo-pagamento" id="erro_titular-cartao">Campo obrigatório</div>
                    <div class="form-floating-label">
                        <input type="text" id="nome-cartao" name="nome-cartao" required placeholder=" " onblur="validarNomeTitular()">
                        <label for="nome-cartao">Nome do titular</label>
                    </div>
                    <div class="erro_campo-pagamento" id="erro_validade-cartao">Vencimento do cartão inválido</div>
                    <div class="form-floating-label">
                        <input type="text" id="validade-cartao" name="validade-cartao" maxlength="5" required placeholder=" " onblur="validarValidade()">
                        <label for="validade-cartao">Vencimento</label>
                    </div>
                    <div class="erro_campo-pagamento" id="erro_cvv-cartao">CVV inválido</div>
                    <div class="form-floating-label">
                        <input type="text" id="cvv-cartao" name="cvv-cartao" maxlength="3"  required placeholder=" " onblur="validarCVV()">
                        <label for="cvv-cartao">CVV</label>
                    </div>
                    <div class="form-floating-label">
                        <select id="opcoes-parcelamento" name="opcoes-parcelamento">
                            <!-- Opções de parcelamento são adicionadas dinamicamente -->
                        </select>
                        <label for="opcoes-parcelamento">Selecione o número de parcelas</label>
                    </div>
                </div>
                <label class="opcao-pagamento">
                    <input type="radio" name="pagamento" value="boleto" onclick="mostrarPagamentoBoleto()">
                    <span class="radio-container">
                        <div class="pagamento-icons">
                            <img src="../img/boleto.png" alt="Boleto">
                            <span>Boleto Bancário</span>
                        </div>
                    </span>
                </label>
                <div class="pagamento-boleto" id="div-pagamento-boleto">
                    <ol start="1">
                        <li> <i class="fa-solid fa-print"></i> Depois de fechar o pedido, imprima ou copie o número do boleto.</li>
                        <li> <i class="fa-solid fa-money-bill"></i> Pague no seu banco ou pela internet.</li>
                        <li> <i class="fa-regular fa-calendar"></i> O prazo de validade do boleto é de 1 dia útil.</li>
                    </ol>

                    <div class="info-box">
                        <p class="info-title"><i class="fa-solid fa-circle-info"></i> Importante</p>
                        <ul class="info-list">
                            <li>Se o boleto não for pago até a data de vencimento, o pedido será cancelado automaticamente</li>
                            <li>O prazo de entrega dos pedidos pagos com boleto bancário começa a contar três dias depois do pagamento do boleto, tempo necessário para que a instituição bancária confirme o pagamento.</li>
                        </ul>
                    </div>
                </div>
                <label class="opcao-pagamento">
                    <input type="radio" name="pagamento" value="pix" onclick="mostrarPagamentoPix()">
                    <span class="radio-container">
                        <div class="pagamento-icons">
                            <img src="../img/pix.png" alt="PIX">
                        </div>
                    </span>
                </label>
                <div class="ultima-opcao-pagamento" id="div-pagamento-pix">
                    <div class="pagamento-pix">
                        <img src="../img/qrcode.svg" class="qr-code">
                        <button class="botao" onclick="copiarPix()">Copiar código Pix</button>
                        <ol start="1">
                            <li> <i class="fa-brands fa-pix"></i> Abra o app do seu banco, vá até o ambiente Pix e escolha pagar com QR Code ou Pix Copia e Cola.</li>
                            <li> <i class="fa-solid fa-money-bill"></i> Escaneie ou cole o código Pix. Confira as informações e finalize o pagamento.</li>
                            <li> <i class="fa-solid fa-book"></i> Após a aprovação do pagamento, seu pedido será concluído automaticamente.</li>
                        </ol>
                    </div>
                </div>
            </div>
            <button class="botao-finalizar"  onclick="finalizarPagamento()">Finalizar compra</button>
        </div>
    </div>
    <div class="container-resumo">
        <h1>Resumo do Pedido</h1>
        <div class="total-carrinho">
            <div>
                <span id="label-itens-total-carrinho">Subtotal (2 itens): </span><span id="itens-total-carrinho">R$ 12,00</span>
            </div>
            <div>
                <span id="label-frete-carrinho">Entrega: </span><span id="frete-carrinho">frete grátis</span>
            </div>
            <div>
                <span id="label-valor-total-carrinho">Total: </span><span id="valor-total-carrinho">R$ 0,00</span>
            </div>
        </div>
        <div class="itens-carrinho" id="itens-carrinho">
            <!-- Itens do carrinho serão adicionados aqui dinamicamente -->
        </div>
    </div>
    <div id="div-compra-finalizada" >
        <div class="compra-finalizada">
            <h1>Compra finalizada com sucesso!</h1>
            <ol>Seu pedido foi concluído com sucesso. Em breve você receberá um e-mail com os detalhes da sua compra.</ol>
            <button class="botao" onclick="window.location.href='index.html'">Voltar para a página inicial</button>
        </div>
    </div>

    <!-- Modal para exibir mensagem de erro -->
    <div id="modal-erro-pagamento" class="modal-error">
        <div class="modal-error-content">
            <span class="close" onclick="fecharModalPagamento()">&times;</span>
            <p>Para finalizar a compra, selecione a forma de pagamento</p>
            <button class="botao-modal" onclick="fecharModalPagamento()">Selecionar pagamento</button>
        </div>
    </div>
</body>
</html>